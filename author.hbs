{{!< default}}

{{!--
    author.hbs
    ----------
    Author archive template displaying posts by a specific author.
    Shows author profile image, name, bio, social links, and post count.
    Includes fallback avatar when no profile image is set.
    Uses the loop partial to render paginated post cards.
--}}

{{#author}}

<header class="blog-header{{#if cover_image}} has-cover{{/if}}">
	<div class="inner">
		<div class="archive archive-author box archive-box">
			<span class="archive-info">
				<span class="archive-type">{{t "Author"}}</span>
				<span class="archive-count">{{plural ../pagination.total empty=(t "No Posts") singular=(t "% Post") plural=(t "% Posts")}}</span>
			</span>
			{{!-- Author avatar with SVG fallback for missing profile image --}}
			{{#if profile_image}}
				<figure class="archive-avatar">
					<img src="{{profile_image}}" alt="{{name}}" loading="eager" decoding="async" />
				</figure>
			{{else}}
				<figure class="archive-avatar avatar" aria-label="{{name}}">
					<svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
						<path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
					</svg>
				</figure>
			{{/if}}
			
			<h2 class="archive-title">{{name}}</h2>
			{{!-- Author bio with fallback message --}}
			{{#if bio}}
				<span class="archive-description">{{{bio}}}</span>
			{{else}}
				<span class="archive-description archive-description-fallback">{{t "Posts by"}} {{name}}</span>
		{{/if}}
			<span class="archive-links">
				{{#if website}}
					<a target="_blank" rel="noopener noreferrer" href="{{website}}" title="{{t "Website"}}"><i class="icon icon-globe">{{> "icons/icon-globe"}}</i><span>{{t "Website"}}</span></a>
				{{/if}}
				{{#if twitter}}
					<a target="_blank" rel="noopener noreferrer" href="https://twitter.com/{{twitter}}" title="{{t "Twitter"}}"><i class="icon icon-twitter">{{> "icons/icon-twitter"}}</i><span>{{t "Twitter"}}</span></a>
				{{/if}}
				{{#if facebook}}
					<a target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/{{facebook}}" title="{{t "Facebook"}}"><i class="icon icon-facebook">{{> "icons/icon-facebook"}}</i><span>{{t "Facebook"}}</span></a>
				{{/if}}
			</span>
	</div>


		{{#if cover_image}}
		<div class="blog-cover cover">
			<img
			srcset="{{img_url cover_image size="s"}} 320w,
              {{img_url cover_image size="m"}} 640w,
              {{img_url cover_image size="l"}} 960w,
              {{img_url cover_image size="xl"}} 1920w"
      src="{{img_url cover_image size="xl"}}"
			alt="{{name}}"
			loading="eager"
			decoding="async"
			fetchpriority="high"
			sizes="(max-width: 960px) 100vw, 960px" />
		</div>
		{{/if}}
	</div>
</header>

{{/author}}

<div id="index" class="container">

	<main class="content" role="main">

		{{> "loop"}}

	</main>

</div>
