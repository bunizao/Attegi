(()=>{var w=document;function d(e,t){var r=w.body;return r&&r.getAttribute("data-i18n-"+e)||t}function A(t){function i(e,t){var e=e.getAttribute(t);return e&&(t=e.trim())&&!/%$/.test(t)&&(e=parseFloat(t),!isNaN(e))&&0<e?e:null}function o(e,t){e&&t&&(e.style.paddingBottom=t.toFixed(4)+"%")}function r(r){var n,e,t,a;r.closest(".js-reframe")||((n=w.createElement("div")).className="js-reframe",t=i(e=r,"width"),e=i(e,"height"),(e=t&&e?e/t*100:null)&&o(n,e),r.parentNode.insertBefore(n,r),n.appendChild(r),!e&&r.tagName&&"video"===r.tagName.toLowerCase()&&(a=function(){var e,t;t=n,(e=r)&&t&&e.videoWidth&&e.videoHeight&&o(t,e.videoHeight/e.videoWidth*100),r.removeEventListener("loadedmetadata",a)},1<=r.readyState?a():r.addEventListener("loadedmetadata",a)))}t&&['iframe[src*="youtube.com"]','iframe[src*="youtu.be"]','iframe[src*="vimeo.com"]','iframe[src*="bilibili.com"]','iframe[src*="player.spotify.com"]','iframe[src*="soundcloud.com"]','iframe[src*="music.163.com"]','iframe[src*="qq.com"]',"object","embed","video"].forEach(function(e){e=t.querySelectorAll(e);Array.prototype.forEach.call(e,r)})}var e,o={javascript:"JavaScript",js:"JavaScript",typescript:"TypeScript",ts:"TypeScript",python:"Python",py:"Python",java:"Java",c:"C",cpp:"C++",csharp:"C#",cs:"C#",go:"Go",rust:"Rust",ruby:"Ruby",rb:"Ruby",php:"PHP",swift:"Swift",kotlin:"Kotlin",scala:"Scala",r:"R",sql:"SQL",html:"HTML",xml:"XML",css:"CSS",scss:"SCSS",sass:"Sass",less:"Less",json:"JSON",yaml:"YAML",yml:"YAML",markdown:"Markdown",md:"Markdown",bash:"Bash",shell:"Shell",sh:"Shell",zsh:"Zsh",powershell:"PowerShell",ps1:"PowerShell",dockerfile:"Dockerfile",docker:"Docker",nginx:"Nginx",apache:"Apache",lua:"Lua",perl:"Perl",haskell:"Haskell",elixir:"Elixir",erlang:"Erlang",clojure:"Clojure",lisp:"Lisp",scheme:"Scheme",ocaml:"OCaml",fsharp:"F#",dart:"Dart",groovy:"Groovy",julia:"Julia",matlab:"MATLAB",objectivec:"Objective-C",objc:"Objective-C",assembly:"Assembly",asm:"Assembly",vb:"Visual Basic",vbnet:"VB.NET",graphql:"GraphQL",toml:"TOML",ini:"INI",makefile:"Makefile",cmake:"CMake",diff:"Diff",plaintext:"Plain Text",text:"Plain Text"};function u(a){return new Promise(function(e,t){try{var r=w.createElement("textarea"),n=(r.value=a,r.setAttribute("readonly",""),r.style.position="fixed",r.style.top="-9999px",r.style.left="-9999px",w.body.appendChild(r),r.focus(),r.select(),r.setSelectionRange(0,r.value.length),w.execCommand&&w.execCommand("copy"));w.body.removeChild(r),n?e():t(new Error("Copy failed"))}catch(e){t(e)}})}function E(e,t){var r,n;function a(e,r,t){var n=d("copy","Copy"),a=d("copied","Copied!"),i=d("copy-code","Copy code"),o=w.createElement("div"),s=(o.className="code-header",w.createElement("span")),l=(s.className="code-lang",s.textContent=t||"",o.appendChild(s),w.createElement("button"));function c(e){l.innerHTML=e?'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>':'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>';var t=w.createElement("span");t.textContent=e?a:n,l.appendChild(t)}l.className="code-copy-btn",l.setAttribute("aria-label",i),c(!1),l.addEventListener("click",function(){var e,t=r.textContent||r.innerText;e=t,(navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).catch(function(){return u(e)}):u(e)).then(function(){l.classList.add("copied"),c(!0),setTimeout(function(){l.classList.remove("copied"),c(!1)},2e3)}).catch(function(){})}),o.appendChild(l),e.insertBefore(o,e.firstChild)}function i(){window.hljs&&(window.hljs.configure({ignoreUnescapedHTML:!0}),Array.prototype.forEach.call(r,function(e){window.hljs.highlightElement(e);var t,r=e.parentElement;r.querySelector(".code-header")||(t=(t=(t=e.className)&&t.match(/language-(\w+)/i))?(t=t[1].toLowerCase(),o[t]||t.charAt(0).toUpperCase()+t.slice(1)):null,a(r,e,t))}))}e&&(r=e.querySelectorAll("pre code")).length&&(window.hljs?"requestIdleCallback"in window?window.requestIdleCallback(i,{timeout:300}):setTimeout(i,0):(t=(e=>{if(!e)return"";try{var t=new URL(e,w.baseURI);return t.origin===location.origin?t.href:""}catch(e){return""}})(t))&&((n=w.createElement("script")).src=t,n.defer=!0,n.onload=function(){i()},"requestIdleCallback"in window?window.requestIdleCallback(function(){w.body.appendChild(n)},{timeout:500}):setTimeout(function(){w.body.appendChild(n)},0)))}function C(){var a,t,i=w.getElementById("ghost-comments-template"),o=w.querySelector("[data-comments-placeholder]"),s=w.querySelector(".js-load-comments");function l(t,e){Array.prototype.forEach.call(e,function(e){var r=w.createElement("script");Array.prototype.forEach.call(e.attributes,function(e){var t;"type"===e.name?(t=(t=e.value)?/text\/javascript/i.test(t)?"text/javascript":t:"")&&r.setAttribute("type",t):r.setAttribute(e.name,e.value)}),r.textContent=e.textContent,e.src&&(r.src=e.src),t.appendChild(r)})}function r(){a||(a=!0,s.setAttribute("aria-busy","true"),s.setAttribute("aria-expanded","true"),s.classList.add("is-loading"),setTimeout(function(){try{var e,t,r=null;if(i.content&&i.content.cloneNode)r=i.content.cloneNode(!0);else if(i.innerHTML){var n=w.createElement("div");for(n.innerHTML=i.innerHTML,r=w.createDocumentFragment();n.firstChild;)r.appendChild(n.firstChild)}r?(e=r.querySelectorAll?r.querySelectorAll("script"):[],t=[],Array.prototype.forEach.call(e,function(e){t.push(e),e.parentNode&&e.parentNode.removeChild(e)}),o.appendChild(r),setTimeout(function(){l(o,t)},50),s.classList.add("is-loaded"),s.setAttribute("hidden","true"),s.removeAttribute("aria-busy")):(a=!1,s.classList.remove("is-loading"),s.removeAttribute("aria-busy"))}catch(e){a=!1,s.classList.remove("is-loading"),s.removeAttribute("aria-busy"),i.innerHTML&&(o.innerHTML=i.innerHTML,s.classList.add("is-loaded"),s.setAttribute("hidden","true"))}},100))}i&&o&&s&&(a=!1,s.addEventListener("click",function(){r()}),"IntersectionObserver"in window)&&(t=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(r(),t.disconnect())})},{rootMargin:"200px 0px"})).observe(o)}function S(o){function h(e){e=e.split("/").pop();return e&&-1!==e.indexOf(".")}function m(e){return/\/content\/images\/(?:size\/w\d+\/)?(?:thumbnail|icon)\//.test(e)}function v(e){return/\/content\/images\//.test(e.pathname)&&!m(e.pathname)&&!!h(e.pathname)}function l(e,t,r,n){var a=e.getAttribute("srcset");if(a){a=((e,t)=>{var r=e.split(",").map(function(e){return e.trim()}).filter(Boolean);if(!r.length)return"";if(!r.every(function(e){return/\/content\/images\/size\/w\d+\//.test(e)}))return"";for(var n=[],a=0;a<r.length;a+=1){var i,o=r[a].split(/\s+/),s=o.shift(),o=o.join(" ");try{i=new URL(s,w.baseURI)}catch(e){return""}if(!v(i))return"";i.searchParams.set("format",t),n.push(i.toString()+(o?" "+o:""))}return n.join(", ")})(a,n);if(a)return a}a=r;var i,e=!(r=(r=e).getAttribute("width"))||(i=parseInt(r,10),isNaN(i))||i<=0?a.slice():(r=a.filter(function(e){return e<=i})).length?r:[i],o=t,s=e,l=n;if(!s.length)return"";var c=o.pathname.replace(/\/content\/images\/size\/w\d+\//,"/content/images/");if(!/\/content\/images\//.test(c))return"";if(m(c))return"";if(!h(c))return"";for(var d=[],u=0;u<s.length;u+=1){var p=s[u],f=new URL(o.href);f.pathname=c.replace("/content/images/","/content/images/size/w"+p+"/"),f.searchParams.set("format",l),d.push(f.toString()+" "+p+"w")}return d.join(", ")}function e(){t=[],(e=(e=w.body)?e.getAttribute("data-image-sizes"):"")&&e.split(",").forEach(function(e){e=parseInt(e.trim(),10);!isNaN(e)&&0<e&&t.push(e)}),(t=t.length?t:[320,640,960,1920]).sort(function(e,t){return e-t}),r={},n=[],t.forEach(function(e){r[e]||(r[e]=!0,n.push(e))});var t,e,r,n,a,s=n,i=o.querySelectorAll("img");a="",Array.prototype.some.call(i,function(e){if(!e)return!1;var t,r=e.getAttribute("src");if(!r||/^(data:|blob:)/i.test(r))return!1;try{t=new URL(r,w.baseURI)}catch(e){return!1}return!!v(t)&&(t=e.getAttribute("srcset"),a=((e=(e=t)&&e.split(",")[0])?e.trim().split(/\s+/)[0]:"")||r,!0)}),(e=>{var t=window.__attegiImageFormats;if(t)return Promise.resolve(t);var r,n={avif:!1,webp:!1};if(!e||!window.fetch)return window.__attegiImageFormats=n,Promise.resolve(n);if("localhost"===(t=window.location.hostname)||"127.0.0.1"===t||"0.0.0.0"===t)return window.__attegiImageFormats=n,Promise.resolve(n);try{r=new URL(e,w.baseURI)}catch(e){return window.__attegiImageFormats=n,Promise.resolve(n)}return r.searchParams.delete("format"),Promise.all(["avif","webp"].map(function(t){var e=new URL(r.href);return e.searchParams.set("format",t),fetch(e.toString(),{method:"HEAD",cache:"no-store"}).then(function(e){return e.ok}).catch(function(){return!1}).then(function(e){n[t]=e})})).then(function(){return window.__attegiImageFormats=n})})(a).then(function(o){(o.avif||o.webp)&&Array.prototype.forEach.call(i,function(e){if(e&&!e.closest("picture")&&!e.hasAttribute("data-no-webp")){var t,r,n,a,i=e.getAttribute("src");if(i&&!/^(data:|blob:)/i.test(i)){try{t=new URL(i,w.baseURI)}catch(e){return}v(t)&&(i=o.avif?l(e,t,s,"avif"):"",t=o.webp?l(e,t,s,"webp"):"",i||t)&&(r=w.createElement("picture"),n=e.getAttribute("sizes"),i&&((a=w.createElement("source")).type="image/avif",a.srcset=i,n&&a.setAttribute("sizes",n),r.appendChild(a)),t&&((i=w.createElement("source")).type="image/webp",i.srcset=t,n&&i.setAttribute("sizes",n),r.appendChild(i)),a=e.parentNode)&&(a.insertBefore(r,e),r.appendChild(e))}}})})}o&&("loading"===w.readyState?w.addEventListener("DOMContentLoaded",function(){setTimeout(e,0)}):setTimeout(e,0))}e=function(){var e=w.querySelector(".post-content");if(e){var r,t,n,a,i,o,s,u,l,c=w.currentScript||null,c=c?c.getAttribute("data-highlight"):"",c=(A(e),E(e,c),r=e,n=w.querySelector(".progress-bar"),a=w.querySelector(".progress-container"),n&&a&&r&&(t=!1,["scroll","resize","orientationchange"].forEach(function(e){window.addEventListener(e,g,{passive:!0})}),v()),(c=w.getElementById("share-button"))&&(navigator.share?c.addEventListener("click",function(e){e.preventDefault(),navigator.share({title:w.title,url:window.location.href}).catch(function(){})}):(c.setAttribute("aria-hidden","true"),c.setAttribute("tabindex","-1"),c.style.display="none")),c=w.getElementById("disqus_thread"),s=c&&c.dataset?c.dataset.disqusShortname:"",c&&s&&(i=!1,"IntersectionObserver"in window?(o=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(y(),o.disconnect())})},{rootMargin:"400px 0px"})).observe(c):(window.addEventListener("scroll",y,{passive:!0}),window.addEventListener("touchstart",y,{passive:!0}))),C(),u=w.querySelector(".post-header.has-cover"),l=u?u.querySelector(".post-cover img"):null,u&&l&&(l.complete&&0<l.naturalWidth?b(l):l.addEventListener("load",function(){b(l)})),(c=w.querySelectorAll(".kg-video-card")).length&&Array.prototype.forEach.call(c,function(a){var i=a.querySelector("video");function e(){var e,t,r=i.videoWidth,n=i.videoHeight;r&&n&&(r<n&&a.classList.add("kg-video-portrait"),!(e=i.closest(".js-reframe"))||(t=e.style.paddingBottom)&&"0%"!==t&&""!==t||(e.style.paddingBottom=(n/r*100).toFixed(4)+"%"))}i&&(1<=i.readyState?e():i.addEventListener("loadedmetadata",e))}),(c=w.querySelectorAll(".kg-image-card")).length&&Array.prototype.forEach.call(c,function(e){var t=e.querySelector(".kg-image");function r(){t.naturalHeight>t.naturalWidth&&e.classList.add("kg-image-portrait")}t&&(t.complete&&0<t.naturalWidth?r():t.addEventListener("load",r))}),e);if(c){var d=c.querySelectorAll("sup"),p=[];if(Array.prototype.forEach.call(d,function(e){var t=e.textContent.trim().match(/^\[(\d+)\]$/);t&&p.push({element:e,number:parseInt(t[1],10)})}),p.length){var d=c.querySelectorAll("ol"),f=null;if(Array.prototype.forEach.call(d,function(e){var t=e.querySelectorAll("li"),r=!1;Array.prototype.forEach.call(t,function(e){-1!==e.textContent.indexOf("↩︎")&&(r=!0)}),r&&(f=e)}),f){c=f.querySelectorAll("li");if(c.length===p.length){for(var h=f.previousElementSibling,m=0;h&&"HR"===h.tagName&&m<2;)h.classList.add("footnote-separator"),h=h.previousElementSibling,m++;Array.prototype.forEach.call(c,function(e,t){var t=t+1,r="fnref"+t,e=(e.id||(e.id="fn"+t),e.querySelector("a"));e&&-1!==e.textContent.indexOf("↩︎")&&(e.href="#"+r,e.setAttribute("aria-label","Back to reference "+t))}),p.forEach(function(e){var t=e.number,r="fn"+t,n=(e.element.id="fnref"+t,e.element.parentElement);n&&"A"===n.tagName||(n=e.element.querySelector("a"))?(n.href="#"+r,n.setAttribute("aria-label","Footnote "+t)):((n=w.createElement("a")).href="#"+r,n.textContent="["+t+"]",n.setAttribute("aria-label","Footnote "+t),e.element.textContent="",e.element.appendChild(n))})}}}}S(e)}function v(){var e=window.innerHeight||w.documentElement.clientHeight,t=r.offsetTop,e=Math.max(0,Math.min((window.scrollY+e/2-t)/(t+r.offsetHeight-t)*100,120));n.style.width=Math.min(e,100)+"%",a.classList.toggle("complete",100<e)}function g(){t||(t=!0,window.requestAnimationFrame(function(){v(),t=!1}))}function y(){var e;i||(i=!0,(e=w.createElement("script")).src="https://"+s+".disqus.com/embed.js",e.async=!0,e.setAttribute("data-timestamp",String(Date.now())),w.body.appendChild(e))}function b(e){var t=w.createElement("canvas"),r=t.getContext("2d");if(r){var n=Math.floor(.4*e.naturalHeight),a=e.naturalHeight-n,i=Math.min(e.naturalWidth,100),o=Math.min(n,60);t.width=i,t.height=o;try{r.drawImage(e,0,a,e.naturalWidth,n,0,0,i,o);for(var s=r.getImageData(0,0,i,o).data,l=0,c=s.length/4,d=0;d<s.length;d+=4)l+=.299*s[d]+.587*s[d+1]+.114*s[d+2];160<l/c&&u.classList.add("light-cover")}catch(e){}}}},"loading"===w.readyState?w.addEventListener("DOMContentLoaded",e):e()})();