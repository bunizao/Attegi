(()=>{var e,b=document,h=window,v={headingSelector:".post-content h2, .post-content h3, .post-content h4",minHeadings:2,scrollOffset:100,throttleDelay:100},g={headings:[],isOpen:!1,activeIndex:-1},y={sidebar:null,mobileTrigger:null,mobileOverlay:null,mobileDrawer:null,tocList:null,mobileTocList:null,links:[],mobileLinks:[]};function f(e){e.preventDefault();var e=e.currentTarget.getAttribute("href"),t=e.substring(1),t=b.getElementById(t);t&&(t=t.getBoundingClientRect().top+h.pageYOffset-v.scrollOffset,h.scrollTo({top:t,behavior:"smooth"}),history.pushState)&&history.pushState(null,null,e)}function x(){for(var e,t,i,n=h.pageYOffset||b.documentElement.scrollTop,l=(h.innerHeight,-1),o=g.headings.length-1;0<=o;o--)if(n>=g.headings[o].element.getBoundingClientRect().top+n-v.scrollOffset-50){l=o;break}l!==g.activeIndex&&(g.activeIndex=l,y.links.forEach(function(e,t){e.classList.toggle("is-active",t===l)}),y.mobileLinks.forEach(function(e,t){e.classList.toggle("is-active",t===l)}),0<=l)&&y.tocList&&(e=y.links[l])&&(t=y.tocList.getBoundingClientRect(),(i=e.getBoundingClientRect()).top<t.top||i.bottom>t.bottom)&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}function L(){g.isOpen=!0,b.body.classList.add("toc-open"),y.mobileOverlay.classList.add("is-open"),y.mobileDrawer.classList.add("is-open"),y.mobileTrigger.setAttribute("aria-expanded","true")}function E(){g.isOpen=!1,b.body.classList.remove("toc-open"),y.mobileOverlay.classList.remove("is-open"),y.mobileDrawer.classList.remove("is-open"),y.mobileTrigger.setAttribute("aria-expanded","false")}e=function(){var s,r,l,e,t,i,n,o,a,c,d,m,u,p=b.querySelector(".post-content");!p||(p=p.querySelectorAll(v.headingSelector)).length<v.minHeadings||(g.headings=(s=[],r={},Array.prototype.forEach.call(p,function(e,t){var i=e.textContent.trim();if(i){if(!(n=e.id)){for(var n,l=n=i.toLowerCase().replace(/[^\w\u4e00-\u9fa5\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").substring(0,50)||"heading",o=1;r[n];)n=l+"-"+o,o++;e.id=n}r[n]=!0;var a=parseInt(e.tagName.charAt(1),10);s.push({id:n,text:i,level:a,element:e})}}),s),g.headings.length<v.minHeadings)||((p=b.createElement("aside")).className="toc-sidebar",p.setAttribute("aria-label","Table of Contents"),(t=b.createElement("div")).className="toc-container",(e=b.createElement("div")).className="toc-header",e.innerHTML='<div class="toc-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></div><h3 class="toc-title">On this page</h3>',(l=b.createElement("ul")).className="toc-list",g.headings.forEach(function(e,t){var i=b.createElement("li"),n=(i.className="toc-item",b.createElement("a"));n.className="toc-link",n.href="#"+e.id,n.textContent=e.text,n.setAttribute("data-level",e.level),n.setAttribute("data-index",t),i.appendChild(n),l.appendChild(i),y.links.push(n)}),t.appendChild(e),t.appendChild(l),p.appendChild(t),b.body.appendChild(p),y.sidebar=p,y.tocList=l,(e=b.createElement("button")).className="toc-mobile-trigger",e.setAttribute("aria-label","Open table of contents"),e.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>',(t=b.createElement("div")).className="toc-mobile-overlay",(p=b.createElement("div")).className="toc-mobile-drawer",p.setAttribute("role","dialog"),p.setAttribute("aria-label","Table of Contents"),(u=b.createElement("div")).className="toc-mobile-handle",(i=b.createElement("div")).className="toc-mobile-header",i.innerHTML='<h3 class="toc-mobile-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>On this page</h3>',(n=b.createElement("button")).className="toc-mobile-close",n.setAttribute("aria-label","Close table of contents"),n.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',i.appendChild(n),(n=b.createElement("div")).className="toc-mobile-content",(o=b.createElement("ul")).className="toc-mobile-list",g.headings.forEach(function(e,t){var i=b.createElement("li"),n=(i.className="toc-mobile-item",b.createElement("a"));n.className="toc-mobile-link",n.href="#"+e.id,n.textContent=e.text,n.setAttribute("data-level",e.level),n.setAttribute("data-index",t),i.appendChild(n),o.appendChild(i),y.mobileLinks.push(n)}),n.appendChild(o),p.appendChild(u),p.appendChild(i),p.appendChild(n),b.body.appendChild(e),b.body.appendChild(t),b.body.appendChild(p),y.mobileTrigger=e,y.mobileOverlay=t,y.mobileDrawer=p,y.mobileTocList=o,b.body.classList.add("has-toc"),u=((i,n)=>{var l=0,o=null;return function(){var e=Date.now(),t=n-(e-l);t<=0?(o&&(clearTimeout(o),o=null),l=e,i()):o=o||setTimeout(function(){l=Date.now(),o=null,i()},t)}})(x,v.throttleDelay),h.addEventListener("scroll",u,{passive:!0}),h.addEventListener("resize",u,{passive:!0}),y.links.forEach(function(e){e.addEventListener("click",f)}),y.mobileTrigger.addEventListener("click",L),y.mobileOverlay.addEventListener("click",E),(u=y.mobileDrawer.querySelector(".toc-mobile-close"))&&u.addEventListener("click",E),y.mobileLinks.forEach(function(e){e.addEventListener("click",function(e){f(e),E()})}),b.addEventListener("keydown",function(e){"Escape"===e.key&&g.isOpen&&E()}),m=y.mobileDrawer,(u=m.querySelector(".toc-mobile-handle"))&&(c=a=0,d=!1,u.addEventListener("touchstart",function(e){a=e.touches[0].clientY,d=!0},{passive:!0}),u.addEventListener("touchmove",function(e){d&&0<(e=(c=e.touches[0].clientY)-a)&&(m.style.transform="translateY("+e+"px)")},{passive:!0}),u.addEventListener("touchend",function(){var e;d&&(d=!1,e=c-a,m.style.transform="",100<e)&&E()},{passive:!0})),x(),setTimeout(function(){y.sidebar&&y.sidebar.classList.add("is-visible"),y.mobileTrigger&&y.mobileTrigger.classList.add("is-visible")},500))},"loading"===b.readyState?b.addEventListener("DOMContentLoaded",e):e()})();