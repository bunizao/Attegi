(()=>{var e,m=document,b=window,u=2,p={isOpen:!1,isVisible:!1,articleTop:0,articleBottom:0},v={sidebar:null,mobileTrigger:null,mobileOverlay:null,mobileDrawer:null,mobileList:null};function l(){var e,t;v.mobileList&&(e=m.querySelector(".toc-sidebar .toc-link.is-active"),t=e?e.getAttribute("href"):null,v.mobileList.querySelectorAll(".toc-mobile-link").forEach(function(e){t&&e.getAttribute("href")===t?e.classList.add("is-active"):e.classList.remove("is-active")}))}function h(){var e,t,i;v.sidebar&&(e=b.pageYOffset||m.documentElement.scrollTop,t=b.innerHeight,(i=m.querySelector(".post-content"))&&(i=i.getBoundingClientRect(),p.articleTop=i.top+e,p.articleBottom=i.bottom+e),i=p.articleTop-100,t=p.articleBottom-t+100,(i=i<=e&&e<=t)!==p.isVisible&&((p.isVisible=i)?v.sidebar.classList.add("is-visible"):v.sidebar.classList.remove("is-visible")),l())}function y(){l(),p.isOpen=!0,m.body.classList.add("toc-open"),v.mobileOverlay.classList.add("is-open"),v.mobileDrawer.classList.add("is-open"),v.mobileTrigger.setAttribute("aria-expanded","true")}function f(){p.isOpen=!1,m.body.classList.remove("toc-open"),v.mobileOverlay.classList.remove("is-open"),v.mobileDrawer.classList.remove("is-open"),v.mobileTrigger.setAttribute("aria-expanded","false")}e=function(){var e,t,i,l,o,n,s,a,r,c,d=m.querySelector(".post-content");!d||d.querySelectorAll("h2, h3, h4").length<u||((d=m.createElement("aside")).className="toc-sidebar",d.setAttribute("aria-label","Table of Contents"),(i=m.createElement("div")).className="toc-container",(e=m.createElement("div")).className="toc-header",e.innerHTML='<h3 class="toc-title">On this page</h3>',(t=m.createElement("nav")).className="toc-list",i.appendChild(e),i.appendChild(t),d.appendChild(i),m.body.appendChild(d),v.sidebar=d,(e=m.createElement("button")).className="toc-mobile-trigger",e.setAttribute("aria-label","Open table of contents"),e.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>',(t=m.createElement("div")).className="toc-mobile-overlay",(i=m.createElement("div")).className="toc-mobile-drawer",i.setAttribute("role","dialog"),i.setAttribute("aria-label","Table of Contents"),(d=m.createElement("div")).className="toc-mobile-handle",(c=m.createElement("div")).className="toc-mobile-header",c.innerHTML='<h3 class="toc-mobile-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>On this page</h3>',(o=m.createElement("button")).className="toc-mobile-close",o.setAttribute("aria-label","Close table of contents"),o.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',c.appendChild(o),(o=m.createElement("div")).className="toc-mobile-content",(l=m.createElement("nav")).className="toc-mobile-list",o.appendChild(l),i.appendChild(d),i.appendChild(c),i.appendChild(o),m.body.appendChild(e),m.body.appendChild(t),m.body.appendChild(i),v.mobileTrigger=e,v.mobileOverlay=t,v.mobileDrawer=i,v.mobileList=l,"undefined"!=typeof tocbot&&(tocbot.init({tocSelector:".toc-list",contentSelector:".post-content",headingSelector:"h2, h3, h4",ignoreSelector:".js-toc-ignore, .gh-post-upgrade-cta h2",hasInnerContainers:!0,linkClass:"toc-link",activeLinkClass:"is-active",listClass:"toc-list",listItemClass:"toc-item",activeListItemClass:"is-active-li",collapseDepth:6,scrollSmooth:!0,scrollSmoothOffset:-100,headingsOffset:100,throttleTimeout:50,orderedList:!1,onClick:function(e){p.isOpen&&f()}}),setTimeout(function(){var e=m.querySelector(".toc-sidebar .toc-list");if(e&&v.mobileList){var t=e.cloneNode(!0);for(t.className="toc-mobile-list",t.querySelectorAll(".toc-item").forEach(function(e){e.className=e.className.replace("toc-item","toc-mobile-item")}),t.querySelectorAll(".toc-link").forEach(function(i){i.className=i.className.replace("toc-link","toc-mobile-link"),i.addEventListener("click",function(e){e.preventDefault();var e=i.getAttribute("href").substring(1),t=m.getElementById(e);t&&(f(),setTimeout(function(){var e=t.getBoundingClientRect().top+b.pageYOffset-100;b.scrollTo({top:e,behavior:"smooth"})},300))})}),t.querySelectorAll(".toc-list").forEach(function(e){e.className=e.className.replace("toc-list","toc-mobile-list")}),v.mobileList.innerHTML="";t.firstChild;)v.mobileList.appendChild(t.firstChild)}},100),d=m.querySelector(".toc-sidebar .toc-list"))&&v.sidebar&&new MutationObserver(function(e){e.forEach(function(e){var t,i,l;"attributes"===e.type&&"class"===e.attributeName&&(e=e.target).classList.contains("is-active")&&e.classList.contains("toc-link")&&(e=e,v.sidebar)&&e&&(t=v.sidebar,i=t.getBoundingClientRect(),e=e.getBoundingClientRect(),l=e.top-i.top+t.scrollTop,e=e.height,i=i.height,l=l-i/2+e/2,e=t.scrollHeight-i,l=Math.max(0,Math.min(l,e)),t.scrollTo({top:l,behavior:"smooth"}))})}).observe(d,{attributes:!0,subtree:!0,attributeFilter:["class"]}),c=((i,l)=>{var o=0,n=null;return function(){var e=Date.now(),t=l-(e-o);t<=0?(n&&(clearTimeout(n),n=null),o=e,i()):n=n||setTimeout(function(){o=Date.now(),n=null,i()},t)}})(function(){h()},100),b.addEventListener("scroll",c,{passive:!0}),b.addEventListener("resize",c,{passive:!0}),v.mobileTrigger.addEventListener("click",y),v.mobileOverlay.addEventListener("click",f),(c=v.mobileDrawer.querySelector(".toc-mobile-close"))&&c.addEventListener("click",f),m.addEventListener("keydown",function(e){"Escape"===e.key&&p.isOpen&&f()}),r=v.mobileDrawer,(c=r.querySelector(".toc-mobile-handle"))&&(s=n=0,a=!1,c.addEventListener("touchstart",function(e){n=e.touches[0].clientY,a=!0},{passive:!0}),c.addEventListener("touchmove",function(e){a&&0<(e=(s=e.touches[0].clientY)-n)&&(r.style.transform="translateY("+e+"px)")},{passive:!0}),c.addEventListener("touchend",function(){var e;a&&(a=!1,e=s-n,r.style.transform="",100<e)&&f()},{passive:!0})),(o=m.querySelector(".post-content"))&&(o=o.getBoundingClientRect(),p.articleTop=o.top+b.pageYOffset,p.articleBottom=o.bottom+b.pageYOffset),h(),m.body.classList.add("has-toc"),setTimeout(function(){v.mobileTrigger&&v.mobileTrigger.classList.add("is-visible")},500))},"loading"===m.readyState?m.addEventListener("DOMContentLoaded",e):e()})();