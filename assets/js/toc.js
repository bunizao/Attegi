(()=>{var e,n=document,a=window,r=2,c={isOpen:!1,isVisible:!1,articleTop:0,articleBottom:0},d={sidebar:null,mobileTrigger:null,mobileOverlay:null,mobileDrawer:null,mobileList:null};function l(){var e,t;d.mobileList&&(e=n.querySelector(".toc-sidebar .toc-link.is-active"),t=e?e.getAttribute("href"):null,d.mobileList.querySelectorAll(".toc-mobile-link").forEach(function(e){t&&e.getAttribute("href")===t?e.classList.add("is-active"):e.classList.remove("is-active")}))}function m(){var e,t,i;d.sidebar&&(e=a.pageYOffset||n.documentElement.scrollTop,t=a.innerHeight,(i=n.querySelector(".post-content"))&&(i=i.getBoundingClientRect(),c.articleTop=i.top+e,c.articleBottom=i.bottom+e),i=c.articleTop-100,t=c.articleBottom-t+100,(i=i<=e&&e<=t)!==c.isVisible&&((c.isVisible=i)?d.sidebar.classList.add("is-visible"):d.sidebar.classList.remove("is-visible")),l())}function b(){var e,t,i;l(),c.isOpen=!0,d.mobileTrigger.classList.add("is-hidden"),d.mobileOverlay.classList.add("is-open"),d.mobileDrawer.classList.add("is-open"),t=d.mobileDrawer.querySelector(".toc-mobile-content"),i=d.mobileList.querySelector(".toc-mobile-link.is-active"),t&&i&&(e=t.getBoundingClientRect(),i=(i=i.getBoundingClientRect()).top-e.top+t.scrollTop-e.height/2+i.height/2,e=t.scrollHeight-e.height,t.scrollTo({top:Math.max(0,Math.min(i,e)),behavior:"smooth"}))}function u(){c.isOpen=!1,d.mobileTrigger.classList.remove("is-hidden"),d.mobileOverlay.classList.remove("is-open"),d.mobileDrawer.classList.remove("is-open")}e=function(){var e,t,i,l,o,s=n.querySelector(".post-content");!s||s.querySelectorAll("h2, h3, h4").length<r||((s=n.createElement("aside")).className="toc-sidebar",s.setAttribute("aria-label","Table of Contents"),(t=n.createElement("div")).className="toc-container",(l=n.createElement("div")).className="toc-header",l.innerHTML='<h3 class="toc-title">On this page</h3>',(e=n.createElement("nav")).className="toc-list",t.appendChild(l),t.appendChild(e),s.appendChild(t),n.body.appendChild(s),d.sidebar=s,(l=n.createElement("button")).className="toc-mobile-trigger",l.setAttribute("aria-label","Open table of contents"),l.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>',(e=n.createElement("div")).className="toc-mobile-overlay",(t=n.createElement("div")).className="toc-mobile-drawer",t.setAttribute("role","dialog"),t.setAttribute("aria-label","Table of Contents"),(s=n.createElement("div")).className="toc-mobile-header",s.innerHTML='<h3 class="toc-mobile-title">On this page</h3>',(o=n.createElement("button")).className="toc-mobile-close",o.setAttribute("aria-label","Close table of contents"),o.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',s.appendChild(o),(o=n.createElement("div")).className="toc-mobile-content",(i=n.createElement("nav")).className="toc-mobile-list",o.appendChild(i),t.appendChild(s),t.appendChild(o),n.body.appendChild(l),n.body.appendChild(e),n.body.appendChild(t),d.mobileTrigger=l,d.mobileOverlay=e,d.mobileDrawer=t,d.mobileList=i,"undefined"!=typeof tocbot&&(tocbot.init({tocSelector:".toc-list",contentSelector:".post-content",headingSelector:"h2, h3, h4",ignoreSelector:".js-toc-ignore, .gh-post-upgrade-cta h2",hasInnerContainers:!0,linkClass:"toc-link",activeLinkClass:"is-active",listClass:"toc-list",listItemClass:"toc-item",activeListItemClass:"is-active-li",collapseDepth:6,scrollSmooth:!0,scrollSmoothOffset:-100,headingsOffset:100,throttleTimeout:50,orderedList:!1,onClick:function(e){c.isOpen&&u()}}),setTimeout(function(){var e=n.querySelector(".toc-sidebar .toc-list");if(e&&d.mobileList){var t=e.cloneNode(!0);for(t.className="toc-mobile-list",t.querySelectorAll(".toc-item").forEach(function(e){e.className=e.className.replace("toc-item","toc-mobile-item")}),t.querySelectorAll(".toc-link").forEach(function(i){i.className=i.className.replace("toc-link","toc-mobile-link"),i.addEventListener("click",function(e){e.preventDefault();var e=i.getAttribute("href").substring(1),t=n.getElementById(e);t&&(u(),setTimeout(function(){var e=t.getBoundingClientRect().top+a.pageYOffset-100;a.scrollTo({top:e,behavior:"smooth"})},300))})}),t.querySelectorAll(".toc-list").forEach(function(e){e.className=e.className.replace("toc-list","toc-mobile-list")}),d.mobileList.innerHTML="";t.firstChild;)d.mobileList.appendChild(t.firstChild)}},100),s=n.querySelector(".toc-sidebar .toc-list"))&&d.sidebar&&new MutationObserver(function(e){e.forEach(function(e){var t,i,l;"attributes"===e.type&&"class"===e.attributeName&&(e=e.target).classList.contains("is-active")&&e.classList.contains("toc-link")&&(e=e,d.sidebar)&&e&&(t=d.sidebar,i=t.getBoundingClientRect(),e=e.getBoundingClientRect(),l=e.top-i.top+t.scrollTop,e=e.height,i=i.height,l=l-i/2+e/2,e=t.scrollHeight-i,l=Math.max(0,Math.min(l,e)),t.scrollTo({top:l,behavior:"smooth"}))})}).observe(s,{attributes:!0,subtree:!0,attributeFilter:["class"]}),o=((i,l)=>{var o=0,s=null;return function(){var e=Date.now(),t=l-(e-o);t<=0?(s&&(clearTimeout(s),s=null),o=e,i()):s=s||setTimeout(function(){o=Date.now(),s=null,i()},t)}})(function(){m()},100),a.addEventListener("scroll",o,{passive:!0}),a.addEventListener("resize",o,{passive:!0}),d.mobileTrigger.addEventListener("click",b),d.mobileOverlay.addEventListener("click",u),(o=d.mobileDrawer.querySelector(".toc-mobile-close"))&&o.addEventListener("click",u),n.addEventListener("keydown",function(e){"Escape"===e.key&&c.isOpen&&u()}),(l=n.querySelector(".post-content"))&&(l=l.getBoundingClientRect(),c.articleTop=l.top+a.pageYOffset,c.articleBottom=l.bottom+a.pageYOffset),m(),n.body.classList.add("has-toc"),setTimeout(function(){d.mobileTrigger&&d.mobileTrigger.classList.add("is-visible")},500))},"loading"===n.readyState?n.addEventListener("DOMContentLoaded",e):e()})();