document.addEventListener("DOMContentLoaded",function(){var c=document.documentElement,e=document.getElementById("menu"),t=document.querySelector(".nav-menu"),a=document.querySelector(".nav-close");function n(e){c.classList.toggle("menu-active",e),t&&t.setAttribute("aria-expanded",e?"true":"false"),a&&a.setAttribute("aria-hidden",e?"false":"true")}function i(e){e&&"keydown"===e.type&&"Enter"!==e.key&&" "!==e.key||(e&&e.preventDefault(),n(!c.classList.contains("menu-active")))}e&&(e.addEventListener("click",i),e.addEventListener("keydown",i)),t&&(t.addEventListener("click",i),t.addEventListener("keydown",i)),a&&(a.addEventListener("click",i),a.addEventListener("keydown",i)),n(c.classList.contains("menu-active")),window.addEventListener("resize",function(){n(!1)}),window.addEventListener("orientationchange",function(){n(!1)});var s,r=document.querySelector(".cover");function o(){var e;r&&(e=window.pageYOffset,s=0<e?Math.floor(.25*e):0,r.style.transform="translate3d(0, "+s+"px, 0)",window.pageYOffset<r.offsetHeight?c.classList.add("cover-active"):c.classList.remove("cover-active"))}o(),window.addEventListener("scroll",o),window.addEventListener("resize",o),window.addEventListener("orientationchange",o),function(){"use strict";document.querySelectorAll(".kg-gallery-image img").forEach(function(e){var t=e.closest(".kg-gallery-image"),a=e.attributes.width.value,e=e.attributes.height.value;t.style.flex=a/e+" 1 0%"})}(),function(){"use strict";var e=document.querySelector(".js-theme"),t=e?e.querySelector(".theme-text"):null,a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;function n(){c.classList.remove("theme-dark","theme-light"),a&&c.classList.add("theme-dark"),localStorage.setItem("attegi_theme","system"),t&&(t.textContent=e.getAttribute("data-system"))}function i(){c.classList.remove("theme-light"),c.classList.add("theme-dark"),localStorage.setItem("attegi_theme","dark"),t&&(t.textContent=e.getAttribute("data-dark"))}function s(){c.classList.remove("theme-dark"),c.classList.add("theme-light"),localStorage.setItem("attegi_theme","light"),t&&(t.textContent=e.getAttribute("data-light"))}switch(localStorage.getItem("attegi_theme")){case"dark":i();break;case"light":s();break;default:n()}e&&e.addEventListener("click",function(e){e.preventDefault(),(c.classList.contains("theme-dark")||c.classList.contains("theme-light")?c.classList.contains("theme-dark")?s:n:i)()})}(),document.querySelectorAll("img:not([loading])").forEach(function(e){e.hasAttribute("data-lcp")||(e.setAttribute("loading","lazy"),e.setAttribute("decoding","async"))})});