document.addEventListener("DOMContentLoaded",function(){var c=document.documentElement,e=document.getElementById("menu"),t=document.querySelector(".nav-menu"),n=document.querySelector(".nav-close");function a(e){c.classList.toggle("menu-active",e),t&&t.setAttribute("aria-expanded",e?"true":"false"),n&&n.setAttribute("aria-hidden",e?"false":"true")}function i(e){e&&"keydown"===e.type&&"Enter"!==e.key&&" "!==e.key||(e&&e.preventDefault(),a(!c.classList.contains("menu-active")))}e&&(e.addEventListener("click",i),e.addEventListener("keydown",i)),t&&(t.addEventListener("click",i),t.addEventListener("keydown",i)),n&&(n.addEventListener("click",i),n.addEventListener("keydown",i)),a(c.classList.contains("menu-active")),c.classList.add("menu-ready"),window.addEventListener("resize",function(){a(!1)}),window.addEventListener("orientationchange",function(){a(!1)});var s=document.querySelector(".cover"),o=s?s.querySelector("img"):null,r=0,d=s?s.offsetHeight:0,l=!1;function u(){var e,t;s&&(!(t=s.getBoundingClientRect().height||s.offsetHeight||0)&&o&&o.naturalWidth&&(e=o.naturalHeight/o.naturalWidth,t=s.clientWidth*e),d=t||d)}function m(){var e;s&&(d||u(),e=window.pageYOffset,r=0<e?Math.floor(.25*e):0,s.style.transform="translate3d(0, "+r+"px, 0)",window.pageYOffset<d?c.classList.add("cover-active"):c.classList.remove("cover-active"))}function h(){l||(l=!0,window.requestAnimationFrame(function(){m(),l=!1}))}u(),m(),s&&c.classList.add("cover-active"),o&&(o.complete?(u(),m()):o.addEventListener("load",function(){u(),m()},{once:!0}),setTimeout(function(){u(),m()},300)),window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("resize",function(){u(),h()},{passive:!0}),window.addEventListener("orientationchange",function(){u(),h()},{passive:!0}),function(){"use strict";document.querySelectorAll(".kg-gallery-image img").forEach(function(e){var t=e.closest(".kg-gallery-image"),n=e.attributes.width.value,e=e.attributes.height.value;t.style.flex=n/e+" 1 0%"})}(),function(){"use strict";var e=document.querySelector(".js-theme"),t=e?e.querySelector(".theme-text"):null,n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;function a(){c.classList.remove("theme-dark","theme-light"),n&&c.classList.add("theme-dark"),localStorage.setItem("attegi_theme","system"),t&&(t.textContent=e.getAttribute("data-system"))}function i(){c.classList.remove("theme-light"),c.classList.add("theme-dark"),localStorage.setItem("attegi_theme","dark"),t&&(t.textContent=e.getAttribute("data-dark"))}function s(){c.classList.remove("theme-dark"),c.classList.add("theme-light"),localStorage.setItem("attegi_theme","light"),t&&(t.textContent=e.getAttribute("data-light"))}switch(localStorage.getItem("attegi_theme")){case"dark":i();break;case"light":s();break;default:a()}e&&e.addEventListener("click",function(e){e.preventDefault(),(c.classList.contains("theme-dark")||c.classList.contains("theme-light")?c.classList.contains("theme-dark")?s:a:i)()})}()});