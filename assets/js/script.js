document.addEventListener("DOMContentLoaded",function(){var r=document.documentElement,e=document.getElementById("menu"),t=document.querySelector(".nav-menu"),a=document.querySelector(".nav-close");function n(e){r.classList.toggle("menu-active",e),t&&t.setAttribute("aria-expanded",e?"true":"false"),a&&a.setAttribute("aria-hidden",e?"false":"true")}function i(e){e&&"keydown"===e.type&&"Enter"!==e.key&&" "!==e.key||(e&&e.preventDefault(),n(!r.classList.contains("menu-active")))}e&&(e.addEventListener("click",i),e.addEventListener("keydown",i)),t&&(t.addEventListener("click",i),t.addEventListener("keydown",i)),a&&(a.addEventListener("click",i),a.addEventListener("keydown",i)),n(r.classList.contains("menu-active")),window.addEventListener("resize",function(){n(!1)}),window.addEventListener("orientationchange",function(){n(!1)});var s=document.querySelector(".cover"),c=!1;function o(){var e,t;s&&(t=0<(e=window.pageYOffset)?Math.floor(.25*e):0,s.style.transform="translate3d(0, "+t+"px, 0)",e<s.offsetHeight?r.classList.add("cover-active"):r.classList.remove("cover-active")),c=!1}function d(){c||(window.requestAnimationFrame(o),c=!0)}s&&(o(),window.addEventListener("scroll",d,{passive:!0}),window.addEventListener("resize",d,{passive:!0}),window.addEventListener("orientationchange",d,{passive:!0})),function(){"use strict";document.querySelectorAll(".kg-gallery-image img").forEach(function(e){var t=e.closest(".kg-gallery-image"),a=e.attributes.width.value,e=e.attributes.height.value;t.style.flex=a/e+" 1 0%"})}(),function(){"use strict";var e=document.querySelector(".js-theme"),t=e?e.querySelector(".theme-text"):null,a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;function n(){r.classList.remove("theme-dark","theme-light"),a&&r.classList.add("theme-dark"),localStorage.setItem("attegi_theme","system"),t&&(t.textContent=e.getAttribute("data-system"))}function i(){r.classList.remove("theme-light"),r.classList.add("theme-dark"),localStorage.setItem("attegi_theme","dark"),t&&(t.textContent=e.getAttribute("data-dark"))}function s(){r.classList.remove("theme-dark"),r.classList.add("theme-light"),localStorage.setItem("attegi_theme","light"),t&&(t.textContent=e.getAttribute("data-light"))}switch(localStorage.getItem("attegi_theme")){case"dark":i();break;case"light":s();break;default:n()}e&&e.addEventListener("click",function(e){e.preventDefault(),(r.classList.contains("theme-dark")||r.classList.contains("theme-light")?r.classList.contains("theme-dark")?s:n:i)()})}()});